{"version":3,"sources":["components/meta/Meta.module.css","features/news-list-item/ListItem.module.css","features/news-list/NewsList.module.css","features/comments-block/CommentsBlock.module.css","components/spinner/CircleSpinner.module.css","features/comment/Comment.module.css","features/news-detail/NewsDetail.module.css","components/error-message/ErrorMessage.module.css","components/spinner/Spinner.module.css","components/button/Button.module.css","features/comments/Comments.module.css","App.module.css","services/newsApi.js","utils/getFormatedDate.js","components/meta/Meta.js","components/error-message/ErrorMessage.js","features/news-list-item/ListItem.js","hooks/useOnScreen.js","components/spinner/Spinner.js","components/button/Button.js","features/news-list/NewsList.js","constants.js","components/spinner/CircleSpinner.js","components/slide-down/SlideDown.js","features/comment/Comment.js","utils/htmlDecode.js","components/fade-in/FadeIn.js","features/comments/Comments.js","features/comments-block/CommentsBlock.js","features/news-detail/NewsDetail.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["module","exports","newsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","getNewStories","query","getItemsById","id","useGetNewStoriesQuery","useGetItemsByIdQuery","getFormatedDate","unixTime","date","Date","day","toDateString","toLocaleDateString","month","time","toLocaleTimeString","hour","minute","hour12","Meta","by","score","className","classes","info","author","ErrorMessage","children","wrapper","ListItem","ref","useRef","isOnScreen","rootMargin","useState","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","refCurrent","unobserve","useOnScreen","skip","data","isLoading","error","title","loadingLine","to","link","React","memo","Spinner","spinner","Button","onClick","disabled","button","NewsList","undefined","pollingInterval","isFetching","refetch","length","btn","list","slice","map","CircleSpinner","width","height","color","viewBox","path","cx","cy","r","fill","stroke","strokeWidth","styles","exited","display","exiting","position","overflow","transition","transitionProperty","entering","entered","SlideDown","inProp","in","nodeRef","Transition","timeout","onEnter","style","onEntering","scrollHeight","onEntered","onExit","offsetHeight","onExiting","mountOnEnter","unmountOnExit","state","Comment","visible","setVisible","text","kids","parsedText","useMemo","input","DOMParser","parseFromString","documentElement","textContent","comment","more","v","ids","FadeIn","CSSTransition","classNames","Comments","dispatch","useDispatch","setError","allData","setAllData","showSpinner","setShowSpinner","a","fetch","initiate","Promise","all","results","result","unsubscribe","item","deleted","CommentsBlock","descendants","header","NewsDetail","useParams","history","useHistory","url","buttonBack","goBack","href","target","rel","App","exact","component","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a47fa712.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Meta_info__12mF3\",\"author\":\"Meta_author__1mo2x\",\"date\":\"Meta_date__7j_Yj\",\"score\":\"Meta_score__31DnL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ListItem_wrapper__3lTIy\",\"link\":\"ListItem_link__2MI1V\",\"title\":\"ListItem_title__3u-_I\",\"loadingLine\":\"ListItem_loadingLine__280Ar\",\"pulse\":\"ListItem_pulse__odNiy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"NewsList_list__xIoKS\",\"title\":\"NewsList_title__1gAwg\",\"btn\":\"NewsList_btn__2lM2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CommentsBlock_wrapper__1UbG0\",\"header\":\"CommentsBlock_header__IEM52\",\"title\":\"CommentsBlock_title__1vwP9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CircleSpinner_wrapper__2M_I_\",\"spinner\":\"CircleSpinner_spinner__1JX90\",\"rotate\":\"CircleSpinner_rotate__5cdNN\",\"path\":\"CircleSpinner_path__1yrU8\",\"dash\":\"CircleSpinner_dash__16YAe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"Comment_comment__2g8Ee\",\"text\":\"Comment_text__3SjaC\",\"more\":\"Comment_more__214dr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"NewsDetail_title__3Y6Q0\",\"link\":\"NewsDetail_link__OgRKD\",\"buttonBack\":\"NewsDetail_buttonBack__1E27-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorMessage_wrapper__3s_fR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3k70y\",\"load1\":\"Spinner_load1__3x6jY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2cZ5P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Comments_list__3Y2xw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const newsApi = createApi({\n  reducerPath: 'newsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://hacker-news.firebaseio.com/v0/',\n  }),\n  endpoints: (builder) => ({\n    getNewStories: builder.query({\n      query: () => 'newstories.json',\n    }),\n    getItemsById: builder.query({\n      query: (id) => `item/${id}.json`,\n    }),\n  }),\n});\n\nexport const { useGetNewStoriesQuery, useGetItemsByIdQuery } = newsApi;\n","export const getFormatedDate = (unixTime) => {\n  const date = new Date(unixTime * 1000);\n  const isToday = new Date().toDateString() === date.toDateString();\n  const day = isToday\n    ? 'today at'\n    : date.toLocaleDateString('en-US', { month: 'short', day: '2-digit' });\n  const time = date.toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: false,\n  });\n\n  return `${day} ${time}`;\n};\n","import React from 'react';\nimport { getFormatedDate } from '../../utils/getFormatedDate';\nimport classes from './Meta.module.css';\n\nconst Meta = ({ by, time, score }) => (\n  <div className={classes.info}>\n    <span className={classes.author}>{by}</span>\n    <span className={classes.date}>{getFormatedDate(time)}</span>\n    {score && <span className={classes.score}>{score}</span>}\n  </div>\n);\n\nexport default Meta;\n","import React from 'react';\nimport classes from './ErrorMessage.module.css';\n\nconst ErrorMessage = ({\n  children = 'Something went wrong. Please reload the page!',\n}) => {\n  return <div className={classes.wrapper}>{children}</div>;\n};\n\nexport default ErrorMessage;\n","import React, { useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Meta from '../../components/meta/Meta';\nimport { useGetItemsByIdQuery } from '../../services/newsApi';\nimport classes from './ListItem.module.css';\nimport { useOnScreen } from '../../hooks/useOnScreen';\nimport ErrorMessage from '../../components/error-message/ErrorMessage';\n\nconst ListItem = ({ id }) => {\n  const ref = useRef();\n  const isOnScreen = useOnScreen(ref);\n\n  const { data, isLoading, error } = useGetItemsByIdQuery(id, {\n    skip: !isOnScreen,\n  });\n\n  const { title, time, by, score } = data || {};\n\n  return (\n    <li ref={ref} className={classes.wrapper}>\n      {error && <ErrorMessage>Could not retrieve the news</ErrorMessage>}\n      {isLoading && <div className={classes.loadingLine}></div>}\n      {data && (\n        <Link to={`/news/${id}`} className={classes.link}>\n          <Meta by={by} score={score} time={time} />\n          <div className={classes.title}>{title}</div>\n        </Link>\n      )}\n    </li>\n  );\n};\n\nexport default React.memo(ListItem);\n","import { useEffect, useState } from 'react';\n\nexport function useOnScreen(ref, rootMargin = '0px') {\n  const [isIntersecting, setIntersecting] = useState(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        setIntersecting(entry.isIntersecting);\n      },\n      {\n        rootMargin,\n      }\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    const refCurrent = ref.current;\n\n    return () => {\n      observer.unobserve(refCurrent);\n    };\n  }, []);\n  return isIntersecting;\n}\n","import classes from './Spinner.module.css';\nimport React from 'react';\n\nconst Spinner = () => {\n  return <div className={classes.spinner}>Loading...</div>;\n};\n\nexport default Spinner;\n","import classes from './Button.module.css';\nimport React from 'react';\n\nconst Button = ({ children, onClick, disabled, className }) => (\n  <button\n    className={`${classes.button} ${className}`}\n    onClick={onClick}\n    disabled={disabled}\n  >\n    {children}\n  </button>\n);\n\nexport default Button;\n","import React from 'react';\nimport { useGetNewStoriesQuery } from '../../services/newsApi';\nimport ListItem from '../news-list-item/ListItem';\nimport ErrorMessage from '../../components/error-message/ErrorMessage';\nimport Spinner from '../../components/spinner/Spinner';\nimport Button from '../../components/button/Button';\nimport { MAX_NEWS_NUMBER, POLLING_INTERVAL } from '../../constants';\nimport classes from './NewsList.module.css';\n\nconst NewsList = () => {\n  const { data, error, isFetching, refetch } = useGetNewStoriesQuery(\n    undefined,\n    { pollingInterval: POLLING_INTERVAL }\n  );\n\n  return (\n    <div className={classes.wrapper}>\n      <h2 className={classes.title}>The last Hacker News</h2>\n      {error && <ErrorMessage />}\n      {!data && isFetching && <Spinner />}\n      {data && data.length === 0 && <div>No news :(</div>}\n      {data && data.length > 0 && (\n        <>\n          <Button\n            onClick={refetch}\n            disabled={isFetching}\n            className={classes.btn}\n          >\n            Manually refetch\n          </Button>\n          <ul className={classes.list}>\n            {data.slice(0, MAX_NEWS_NUMBER).map((id) => (\n              <ListItem key={id} id={id} />\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NewsList;\n","export const POLLING_INTERVAL = 60000;\n\nexport const MAX_NEWS_NUMBER = 100;\n","import classes from './CircleSpinner.module.css';\nimport React from 'react';\n\nconst CircleSpinner = ({ width = 30, height = 30, color = '#798e98' }) => {\n  return (\n    <div className={classes.wrapper}>\n      <svg\n        className={classes.spinner}\n        viewBox='0 0 50 50'\n        width={width}\n        height={height}\n      >\n        <circle\n          className={classes.path}\n          cx='25'\n          cy='25'\n          r='20'\n          fill='none'\n          stroke={color}\n          strokeWidth='5'\n        ></circle>\n      </svg>\n    </div>\n  );\n};\n\nexport default CircleSpinner;\n","import React, { useRef } from 'react';\nimport { Transition } from 'react-transition-group';\n\nconst styles = {\n  exited: { display: 'none' },\n  exiting: {\n    position: 'relative',\n    height: 0,\n    overflow: 'hidden',\n    transition: '0.35s ease',\n    transitionProperty: 'height, visibility',\n  },\n  entering: {\n    position: 'relative',\n    height: 0,\n    overflow: 'hidden',\n    transition: '0.35s ease',\n    transitionProperty: 'height, visibility',\n  },\n  entered: { display: 'block' },\n};\n\nconst SlideDown = ({ in: inProp, children }) => {\n  const nodeRef = useRef(null);\n  const handleEnter = () => {\n    nodeRef.current.style.height = '0';\n  };\n\n  const handleEntering = () => {\n    nodeRef.current.style.height = `${nodeRef.current.scrollHeight}px`;\n  };\n\n  const handleEntered = () => {\n    nodeRef.current.style.height = null;\n  };\n  const handleExit = () => {\n    nodeRef.current.style.height = nodeRef.current.offsetHeight + 'px';\n    nodeRef.current.offsetHeight;\n  };\n\n  const handleExiting = () => {\n    nodeRef.current.style.height = '0';\n  };\n\n  return (\n    <Transition\n      in={inProp}\n      nodeRef={nodeRef}\n      timeout={350}\n      onEnter={handleEnter}\n      onEntering={handleEntering}\n      onEntered={handleEntered}\n      onExit={handleExit}\n      onExiting={handleExiting}\n      mountOnEnter\n      unmountOnExit\n    >\n      {(state) => (\n        <div ref={nodeRef} style={styles[state]}>\n          {children}\n        </div>\n      )}\n    </Transition>\n  );\n};\n\nexport default SlideDown;\n","import React, { useMemo, useState } from 'react';\nimport Meta from '../../components/meta/Meta';\nimport SlideDown from '../../components/slide-down/SlideDown';\nimport classes from './Comment.module.css';\nimport Comments from '../comments/Comments';\nimport { htmlDecode } from '../../utils/htmlDecode';\n\nconst Comment = ({ data }) => {\n  const [visible, setVisible] = useState(false);\n  const handleClick = () => setVisible((v) => !v);\n  const { text, time, by, kids } = data || {};\n  const parsedText = useMemo(() => htmlDecode(text), [text]);\n\n  return (\n    <li className={classes.comment}>\n      <Meta by={by} time={time} />\n      <div className={classes.text}>{parsedText}</div>\n      {kids && (\n        <>\n          <button className={classes.more} onClick={handleClick}>\n            {visible ? 'hide replies' : 'show replies...'}\n          </button>\n          <SlideDown in={visible}>\n            <Comments ids={kids} />\n          </SlideDown>\n        </>\n      )}\n    </li>\n  );\n};\nexport default Comment;\n","export const htmlDecode = (input) => {\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(input, 'text/html');\n  return doc.documentElement.textContent;\n};\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport './FadeIn.css';\n\nconst FadeIn = ({ in: inProp, children }) => {\n  return (\n    <CSSTransition\n      in={inProp}\n      timeout={350}\n      classNames='fade'\n      mountOnEnter\n      unmountOnExit\n    >\n      <div>{children}</div>\n    </CSSTransition>\n  );\n};\n\nexport default FadeIn;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport CircleSpinner from '../../components/spinner/CircleSpinner';\nimport { newsApi } from '../../services/newsApi';\nimport classes from './Comments.module.css';\nimport Comment from '../comment/Comment';\nimport FadeIn from '../../components/fade-in/FadeIn';\nimport ErrorMessage from '../../components/error-message/ErrorMessage';\n\nconst Comments = ({ ids }) => {\n  const dispatch = useDispatch();\n  const [error, setError] = useState(null);\n  const [allData, setAllData] = useState([]);\n  const [showSpinner, setShowSpinner] = useState(false);\n\n  useEffect(async () => {\n    let results;\n\n    if (ids) {\n      setShowSpinner(true);\n      const fetch = (id) =>\n        dispatch(newsApi.endpoints.getItemsById.initiate(id));\n      try {\n        results = await Promise.all(ids.map(fetch));\n        setAllData(results);\n      } catch (error) {\n        setError(error);\n      }\n      setShowSpinner(false);\n    }\n\n    return () => {\n      if (results) {\n        results.map((result) => result.unsubscribe());\n      }\n    };\n  }, [ids]);\n\n  if (error)\n    return <ErrorMessage>Could not retrieve the comments</ErrorMessage>;\n\n  return (\n    <>\n      {showSpinner && <CircleSpinner />}\n      <FadeIn in={!showSpinner && allData.length > 0}>\n        <ul className={classes.list}>\n          {allData.map((item) =>\n            !item.data || item.data.deleted ? null : (\n              <Comment key={item.data.id} data={item.data} />\n            )\n          )}\n        </ul>\n      </FadeIn>\n    </>\n  );\n};\nexport default Comments;\n","import React from 'react';\nimport classes from './CommentsBlock.module.css';\nimport Comments from '../comments/Comments';\nimport Button from '../../components/button/Button';\n\nconst CommentsBlock = ({ ids, descendants, refetch, isFetching }) => {\n  return (\n    <div className={classes.wrapper}>\n      <header className={classes.header}>\n        <h2 className={classes.title}>\n          {descendants > 0 && ids ? `Comments: ${descendants}` : 'No comments'}\n        </h2>\n        <Button onClick={refetch} disabled={isFetching}>\n          Manually refetch\n        </Button>\n      </header>\n\n      {descendants > 0 && ids && <Comments ids={ids} />}\n    </div>\n  );\n};\n\nexport default CommentsBlock;\n","import React from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useGetItemsByIdQuery } from '../../services/newsApi';\nimport Button from '../../components/button/Button';\nimport ErrorMessage from '../../components/error-message/ErrorMessage';\nimport Meta from '../../components/meta/Meta';\nimport CommentsBlock from '../comments-block/CommentsBlock';\nimport Spinner from '../../components/spinner/Spinner';\nimport { POLLING_INTERVAL } from '../../constants';\nimport classes from './NewsDetail.module.css';\n\nconst NewsDetail = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const { data, isLoading, error, refetch, isFetching } = useGetItemsByIdQuery(\n    id,\n    { pollingInterval: POLLING_INTERVAL }\n  );\n\n  const { url, title, time, by, descendants, kids } = data || {};\n\n  const goToPrevPage = () => {\n    history.goBack();\n  };\n\n  if (error) return <ErrorMessage />;\n\n  if (isLoading) return <Spinner />;\n\n  if (!data) return <ErrorMessage>There is no data available (:</ErrorMessage>;\n\n  return (\n    <>\n      <Button className={classes.buttonBack} onClick={goToPrevPage}>\n        Go back\n      </Button>\n      <Meta by={by} time={time} />\n      <h1 className={classes.title}>{title}</h1>\n      <a className={classes.link} href={url} target='_blank' rel='noreferrer'>\n        {url}\n      </a>\n      <CommentsBlock\n        ids={kids}\n        descendants={descendants}\n        refetch={refetch}\n        isFetching={isFetching}\n      />\n    </>\n  );\n};\n\nexport default NewsDetail;\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport NewsList from './features/news-list/NewsList';\nimport NewsDetail from './features/news-detail/NewsDetail';\nimport classes from './App.module.css';\n\nfunction App() {\n  return (\n    <div className={classes.App}>\n      <Router>\n        <Switch>\n          <Route exact path='/' component={NewsList} />\n          <Route path={'/news/:id'} component={NewsDetail} />\n          <Redirect to='/' />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { newsApi } from '../services/newsApi';\n\nexport const store = configureStore({\n  reducer: {\n    [newsApi.reducerPath]: newsApi.reducer,\n  },\n  // adding the api middleware enables caching, invalidation, polling and other features of `rtk-query`\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(newsApi.middleware),\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}